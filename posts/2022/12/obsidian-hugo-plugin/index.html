<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>ObsidianをHugoの為に最適化 - Razl-Dazl</title><link rel=icon type=image/png href=/favicon.png><link rel=apple-touch-icon href=apple-touch-icon.png sizes=180x180><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:title" content="ObsidianをHugoの為に最適化"><meta property="og:description" content="Hugo用の記事(Markdown)をObsidianで書くにあたって、プラグインを入れたり設定を弄ったりしたのでメモしておきます"><meta property="og:type" content="article"><meta property="og:url" content="https://g396.github.io/posts/2022/12/obsidian-hugo-plugin/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-12-27T00:00:00+09:00"><meta property="article:modified_time" content="2022-12-27T00:00:00+09:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="ObsidianをHugoの為に最適化"><meta name=twitter:description content="Hugo用の記事(Markdown)をObsidianで書くにあたって、プラグインを入れたり設定を弄ったりしたのでメモしておきます"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300&family=Raleway:wght@200;300&display=swap" rel=stylesheet><link rel=stylesheet type=text/css media=screen href=/css/normalize.css><link rel=stylesheet type=text/css media=screen href=/css/main.css><link href=https://social.vivaldi.net/@396 rel=me><script src=/js/main.js></script></head><body class=single><div class="header wrapper"><h1 class=site-title><a href=/posts>Razl-Dazl</a></h1><div class=site-description><nav class="nav social"><ul class=flat></ul></nav></div><div class=menu-bar><nav class=nav><ul class=flat><li><a href=/>about</a></li><li><a href=/posts/>blog</a></li><li><a href=/diary/>diary</a></li></ul></nav><div class=toggle><input id=darkmode-toggle type=checkbox>
<label class=darkmode-toggle-label for=darkmode-toggle><span id=darkmode-svg><svg width="100%" height="100%" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M604.086 139.132C771.61 180.428 896 331.802 896 512c0 211.935-172.065 384-384 384-144.187.0-269.92-79.641-335.571-197.296C228.619 728.859 289.176 746.12 353.733 746.12c196.02.0 355.164-159.144 355.164-355.164.0-98.384-40.09-187.478-104.811-251.824z" style="fill:#ddd"/></svg></span></label></div></div></div><div class="container with-side-section wrapper post"><div class="main section"><div class=post-header><div class=eyecatch><img src=/thumbnails/obsidian.webp alt=eyecatch><div class=eyecatch-credit>© 2022 Obsidian</div></div><h1 class=title>ObsidianをHugoの為に最適化</h1><div class=meta>Posted at &mdash; 2022-12-27</div></div><div class=markdown><p>Hugo用の記事(Markdown)をObsidianで書くにあたって、プラグインを入れたり設定を弄ったりしたのでメモしておきます</p><p>と言ってもあんまり大したことはやっていないのですが</p><hr><h2 id=変えた設定>変えた設定</h2><h3 id=フォントをnoto-sans-jpにする>フォントをNoto Sans JPにする</h3><p>Obsidianってデフォルトの日本語フォントが汚いんですよね・・・うちの環境だけか？？</p><p>Windows内蔵フォントも微妙だったので<a href=https://fonts.google.com>Google Fonts</a>からブログのテーマで使用しているものと同じフォントを引っ張ってきて導入しました</p><p>やり方としては、フォントをWindowsにインストールしてからObsidianを再起動させて、設定からフォントを選択するだけです</p><h3 id=cssを適用する>CSSを適用する</h3><p>Obsidianではマークダウンのファイルに対してCSSを適用することが出来ます</p><p>縦長の画像が見切れてウザったいのでCSSファイルを適当に作って縮小させました</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#268bd2>img</span> {
</span></span><span style=display:flex><span>    <span style=color:#719e07>width</span>: <span style=color:#2aa198>100</span><span style=color:#dc322f>%</span>;
</span></span><span style=display:flex><span>    <span style=color:#719e07>max-height</span>: <span style=color:#2aa198>500</span><span style=color:#dc322f>px</span>;
</span></span><span style=display:flex><span>    <span style=color:#719e07>object-fit</span>: <span style=color:#cb4b16>contain</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>marginをautoにしても画像を中央配置に出来なくてあれ～っと思ったのですが、上記のコードにしたら解決しました</p><p>シンプルイズベストだと思っているのでCSSはこれだけにしています</p><p>ファイルは.obsidian/snippets配下に置きます(Obsidianの設定から当該フォルダをエクスプローラで参照できます)</p><hr><h2 id=プラグイン導入>プラグイン導入</h2><p>Obsidianの設定からプラグインを検索すればすぐ見つかるのでリンクは特に載せていません</p><h3 id=tagfolder>TagFolder</h3><p>利点は主に2つ</p><ul><li>タグ毎に記事の一覧を見ることが出来る(フォルダ階層を深くまで辿る必要が無い)</li><li>一覧表示の際にFront Matterのtitleを読み込んで表示する事ができる</li></ul><p>プラグインの設定の"Do not simplify enpty folders" をONにしないと、複数のタグが付いている場合に見づらくなってしまうので注意</p><p>Expand limit(右から2番目のアイコン)をLevel 1にすると一番シンプルな表示になります</p><p><img src=1.jpg alt></p><p>Level 2以上にすると、複数のタグが付いている際に、更にタグ毎に分類されます</p><p><img src=2.jpg alt></p><h3 id=editor-syntax-highlight>Editor Syntax Highlight</h3><p>Front Matterにも色分けがされて見やすくなります</p><hr><h2 id=gitでのobsidianフォルダの扱い>Gitでの.obsidianフォルダの扱い</h2><p>Obsidianでフォルダを開くと、直下に.obsidianフォルダが作成されます</p><p>その中に作成されたファイルには設定等が記録されます</p><p>Gitでの管理すべきかちょっと悩んだので中身を見てみます</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>.obsidian
</span></span><span style=display:flex><span>  ├ plugins
</span></span><span style=display:flex><span>  ├ snippets
</span></span><span style=display:flex><span>  ├ app.json
</span></span><span style=display:flex><span>  ├ appearance.json
</span></span><span style=display:flex><span>  ├ community-plugins.json
</span></span><span style=display:flex><span>  ├ core-plugins-migration.json
</span></span><span style=display:flex><span>  ├ core-plugins.json
</span></span><span style=display:flex><span>  ├ graph.json
</span></span><span style=display:flex><span>  ├ hotkeys.json
</span></span><span style=display:flex><span>  └ workspace.json
</span></span></code></pre></div><h4 id=pluginsフォルダ>plugins(フォルダ)</h4><ul><li>プラグインのjsファイル等が入っている</li><li>リポジトリの管理から外した場合、他のPCでcloneしてObsidianで開いた際に拡張機能を入れ直す機能がある</li><li>私はmarkdownの記事を含んだリポジトリとGitHub Pagesで公開する為のリポジトリは別で管理しているので、含めることにしました</li><li>プラグインにアップデートがあった時はその都度コミットすることになる</li></ul><h4 id=snippetsフォルダ>snippets(フォルダ)</h4><ul><li>ここにObsidianに適用させるCSSを置く</li><li>従ってリポジトリに含めるべき</li></ul><h4 id=appjson>app.json</h4><ul><li><code>"showFrontmatter": true</code> という表記があったので設定に関するファイルと思われる</li><li>頻繁に変える予定のない設定なので含める事に</li></ul><h4 id=appearancejson>appearance.json</h4><ul><li>フォントの設定 等が書かれていたので、これまた別のPCでcloneした時の事を考えてリポジトリへ含める事に・・・</li></ul><h4 id=community-pluginsjson>community-plugins.json</h4><ul><li>自分で導入したプラグインの一覧が書いてある</li><li>pluginsフォルダをリポジトリに含めるならこれも含めるべき</li><li></li></ul><h4 id=core-plugins-migrationjsonとcore-pluginsjson>core-plugins-migration.jsonとcore-plugins.json</h4><ul><li>コアプラグインはObsidianのアプデで追加される事があるので、PCによってObsidianのバージョンがズレた場合の事を考えてリポジトリには含めない事にしました</li></ul><h4 id=graphjson>graph.json</h4><ul><li>グラフ表示の設定値が書かれている</li><li>ブログ記事に対してグラフ表示させるメリットをあまり感じられないので含めなくていい気がする</li><li>タグに色を付けたりした時の設定値も保存されるので、そのあたりを別のPCに引き継ぎたいのであればリポジトリに含めてもいいのでは</li></ul><h4 id=hotkeysjson>hotkeys.json</h4><ul><li>私は特にカスタムしていませんが、ショートカットはデバイス間で共通にした方が使いやすいと思うので含めたほうがいいと思います</li></ul><h4 id=workspacejson>workspace.json</h4><ul><li>今どのファイルを開いているか等が記録される</li><li>つまり参照中のファイルを切り替える度に書き換えられる</li><li>Markdownのファイルに更新が無くても頻繁に書き換わってしまうので含めるべきでない</li><li>Android端末とかでObsidianを使っていると更にworkspace-mobile.jsonが生成される</li></ul><p>一部含めて一部含めないというのも何だか気持ち悪いような・・・</p><p>正直このあたりは保証できませんが、最悪ファイルが壊れてもGitで遡って復元すればいいだけなのであまり気にしすぎる必要は無いのかなと思います</p><hr><h2 id=やんなくてもいい>やんなくてもいい</h2><p><a href=/posts/2022/12/hugo-obsidian-graph/>前の記事</a>でグラフ表示の為の小細工をしていますが、各記事のファイルに対して行う必要がある上、TagFolderを使えば十分参照しやすくなるので無理してやらなくていいかなと思います</p><p>他に何かあれば追記します</p></div><div class=post-tags><nav class="nav tags"><ul class=flat><li class=tag><img src=/img/tags/obsidian.webp alt="tag's icon">
<a href=/tags/obsidian>Obsidian</a></li><li class=tag><img src=/img/tags/hugo.webp alt="tag's icon">
<a href=/tags/hugo>Hugo</a></li></ul></nav></div><div class="related section"><h2 class=section-header>関連記事</h2><ul><li><a href=/posts/2022/12/hugo-obsidian-graph/>Hugo用MarkdownエディタとしてObsidianを使うに当たって生じた問題点</a></li><li><a href=/posts/2022/12/github-pages-from-android/>Android端末からGitHub Pagesを更新してみる</a></li><li><a href=/posts/2022/12/hugo-build-port/>Hugoでテスト用サーバを立てた際に毎回ポート番号が変わる件</a></li><li><a href=/posts/2022/12/keybase-pub/>Keybase.pubで静的Webサイトの作成を試す</a></li><li><a href=/posts/2022/12/hugo-image-size/>Hugoでの画像サイズ調整</a></li></ul></div></div><div class="side section"><div class="author section"><h2 class=section-header>Author@zakuro</h2><div class=content-wrapper><p><img src=/author/avatar.jpg alt></p><p>mastodon: <a href=https://social.vivaldi.net/@396>396@vivaldi.net</a></p></div></div><div class="related section"><h2 class=section-header>Tags</h2><div class=tag-cloud><nav class="nav tags"><ul><li class=tag><img src=/img/tags/tag.webp alt="tag's icon">
<a href=/tags/affinity-designer/>Affinity Designer (1)</a></li><li class=tag><img src=/img/tags/android.webp alt="tag's icon">
<a href=/tags/android/>Android (17)</a></li><li class=tag><img src=/img/tags/css.webp alt="tag's icon">
<a href=/tags/css/>CSS (1)</a></li><li class=tag><img src=/img/tags/tag.webp alt="tag's icon">
<a href=/tags/develop/>Develop (8)</a></li><li class=tag><img src=/img/tags/tag.webp alt="tag's icon">
<a href=/tags/docker/>Docker (1)</a></li><li class=tag><img src=/img/tags/tag.webp alt="tag's icon">
<a href=/tags/github/>GitHub (1)</a></li><li class=tag><img src=/img/tags/hugo.webp alt="tag's icon">
<a href=/tags/hugo/>Hugo (13)</a></li><li class=tag><img src=/img/tags/tag.webp alt="tag's icon">
<a href=/tags/ipad/>iPad (1)</a></li><li class=tag><img src=/img/tags/tag.webp alt="tag's icon">
<a href=/tags/iphone/>iPhone (2)</a></li><li class=tag><img src=/img/tags/tag.webp alt="tag's icon">
<a href=/tags/javascript/>JavaScript (1)</a></li><li class=tag><img src=/img/tags/kotlin.webp alt="tag's icon">
<a href=/tags/kotlin/>Kotlin (12)</a></li><li class=tag><img src=/img/tags/mac.webp alt="tag's icon">
<a href=/tags/mac/>Mac (7)</a></li><li class=tag><img src=/img/tags/obsidian.webp alt="tag's icon">
<a href=/tags/obsidian/>Obsidian (4)</a></li><li class=tag><img src=/img/tags/python.webp alt="tag's icon">
<a href=/tags/python/>Python (1)</a></li><li class=tag><img src=/img/tags/tag.webp alt="tag's icon">
<a href=/tags/rom%E7%84%BC%E3%81%8D/>ROM焼き (6)</a></li><li class=tag><img src=/img/tags/tag.webp alt="tag's icon">
<a href=/tags/vrchat/>VRChat (1)</a></li><li class=tag><img src=/img/tags/tag.webp alt="tag's icon">
<a href=/tags/vroid/>VRoid (1)</a></li><li class=tag><img src=/img/tags/tag.webp alt="tag's icon">
<a href=/tags/wsl/>WSL (1)</a></li><li class=tag><img src=/img/tags/tag.webp alt="tag's icon">
<a href=/tags/%E9%9F%B3%E3%82%B2%E3%83%BC/>音ゲー (2)</a></li></ul></nav></div><h2 class=section-header>Archive</h2><a href=/all/>All posts</a></div></div></div><div class="footer wrapper"><nav class=nav><div>Razl-Dazl - g396.github.io | <a href=https://github.com/vividvilla/ezhil>Ezhil theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div></nav></div></body></html>