<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title> - Razl-Dazl</title><link rel="icon" type="image/png" href=/favicon.png /><link rel="apple-touch-icon" href="apple-touch-icon.png" sizes="180x180">
	
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:title" content="" />
<meta property="og:description" content="Mastodonアプリ制作の進捗でも書いておきます
アカウントの認証  OAuth認証とアクセストークンの直接入力の双方に対応 ただ、アプリを初めて使用する鯖では「そんなアプリ無いぞ」と言われて弾かれるので初回は何らかの登録作業が必要そう(TODO) 複垢登録 削除機能はまだ作ってない 同じアカウントを認証しようとすると落ちる(DB操作を見直せば直るはず)  タイムラインの表示  ホーム、ローカル、パブリック、ホームとローカルの統合(TheDeskっぽいやつ)に対応 統合は単純にホームとローカル双方のAPIを叩いて、うまく結合させてる感じ ストリーミングはWebSocketを勉強しなければならないので後回し・・・  カラムの並び替え・追加・削除  ローカルしか使わない人間（私とか）もいればホームしか使わない人間もいると思うので、必要なカラムだけを表示可能なようにしました カラム表示可能なものは今のところタイムラインと通知のみ 今後追加予定のものは  お気に入り(必須) リスト(必須) 指定したタグの検索結果(できれば) 指定したユーザの投稿(できれば)   カラムを重複させようとすると落ちるので直したい  投稿へのアクション  現状はふぁぼとブーストしか実装してない 今後追加予定のもの(すべて必須)は  ふぁぼ取り消し ブースト取り消し ブックマーク ふぁぼやブーストの件数表示 返信機能    絵文字関連  投稿  一覧取得から、選択した絵文字を投稿欄に自動入力する部分まで実装済 絵文字のポップアップを開くたびにAPIを叩いてしまうのでDBにデータを保持したい   表示  ショートコードを正規表現で抽出し、imgタグ(HTML)に置き換えることで実現 横長の絵文字の表示にも対応済み 設定で大きさを調整できるようにしたい    メディア  画像と動画は詳細画面で表示可能 画像は保存できるようにしたい(できれば他も) 音声ファイルに関してはまだ何も実装してない アップロードはまだ一切実装してない・・・   標準的な機能ばかりですが、書き起こしてみたら割とそこそこの量になりました
一応1か月以上かかってますしね・・・
だらだら続けるのも嫌なので、3月いっぱいを目途にベータ版でもいいからapkとソースを公開したいな～といった所です
ここまで見るとなかなか順調なように見えますが、どこかのコミットからアカウントの認証でコケる事案が発生しているので、ここ1日くらい進捗がありません・・・
テストコードを書きなさい
助けてー！" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://g396.github.io/diary/2023-03-07/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content=""/>
<meta name="twitter:description" content="Mastodonアプリ制作の進捗でも書いておきます
アカウントの認証  OAuth認証とアクセストークンの直接入力の双方に対応 ただ、アプリを初めて使用する鯖では「そんなアプリ無いぞ」と言われて弾かれるので初回は何らかの登録作業が必要そう(TODO) 複垢登録 削除機能はまだ作ってない 同じアカウントを認証しようとすると落ちる(DB操作を見直せば直るはず)  タイムラインの表示  ホーム、ローカル、パブリック、ホームとローカルの統合(TheDeskっぽいやつ)に対応 統合は単純にホームとローカル双方のAPIを叩いて、うまく結合させてる感じ ストリーミングはWebSocketを勉強しなければならないので後回し・・・  カラムの並び替え・追加・削除  ローカルしか使わない人間（私とか）もいればホームしか使わない人間もいると思うので、必要なカラムだけを表示可能なようにしました カラム表示可能なものは今のところタイムラインと通知のみ 今後追加予定のものは  お気に入り(必須) リスト(必須) 指定したタグの検索結果(できれば) 指定したユーザの投稿(できれば)   カラムを重複させようとすると落ちるので直したい  投稿へのアクション  現状はふぁぼとブーストしか実装してない 今後追加予定のもの(すべて必須)は  ふぁぼ取り消し ブースト取り消し ブックマーク ふぁぼやブーストの件数表示 返信機能    絵文字関連  投稿  一覧取得から、選択した絵文字を投稿欄に自動入力する部分まで実装済 絵文字のポップアップを開くたびにAPIを叩いてしまうのでDBにデータを保持したい   表示  ショートコードを正規表現で抽出し、imgタグ(HTML)に置き換えることで実現 横長の絵文字の表示にも対応済み 設定で大きさを調整できるようにしたい    メディア  画像と動画は詳細画面で表示可能 画像は保存できるようにしたい(できれば他も) 音声ファイルに関してはまだ何も実装してない アップロードはまだ一切実装してない・・・   標準的な機能ばかりですが、書き起こしてみたら割とそこそこの量になりました
一応1か月以上かかってますしね・・・
だらだら続けるのも嫌なので、3月いっぱいを目途にベータ版でもいいからapkとソースを公開したいな～といった所です
ここまで見るとなかなか順調なように見えますが、どこかのコミットからアカウントの認証でコケる事案が発生しているので、ここ1日くらい進捗がありません・・・
テストコードを書きなさい
助けてー！"/>
<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300&family=Raleway:wght@200;300&display=swap" rel="stylesheet">

	<link rel="stylesheet" type="text/css" media="screen" href="/css/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="/css/main.css" />

	<link href="https://social.vivaldi.net/@396" rel="me">

	
	<script src="/js/main.js"></script>
</head>

<body>
    <base href="/diary/">
	<div class="header wrapper">
	
	<h1 class="site-title"><a href="/posts">Razl-Dazl</a></h1>
	<div class="site-description"><nav class="nav social">
			<ul class="flat"></ul>
		</nav>
	</div>

	<div class="menu-bar">
		<nav class="nav">
			<ul class="flat">
				
				<li><a href="/">about</a></li>
				
				<li><a href="/posts/">blog</a></li>
				
				<li><a href="/diary/">diary</a></li>
				
				<li><a href="/all/">all posts</a></li>
				
			</ul>
		</nav>
		<div class="toggle">
  <input id="darkmode-toggle" type="checkbox" />
    <label class="darkmode-toggle-label" for="darkmode-toggle">
        <span id="darkmode-svg">
            <svg width="100%" height="100%" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
                <path d="M604.086,139.132C771.61,180.428 896,331.802 896,512C896,723.935 723.935,896 512,896C367.813,896 242.08,816.359 176.429,698.704C228.619,728.859 289.176,746.12 353.733,746.12C549.753,746.12 708.897,586.976 708.897,390.956C708.897,292.572 668.807,203.478 604.086,139.132Z" style="fill:rgb(221,221,221);"/>
            </svg>        
        </span>
    </label>
</div>
	</div>
</div>


	<div class="container with-side-section wrapper post">
		<div class="main section">
			<div class="post-header">
				<h1 class="title">2023-03-07</h1>
			</div>
			<div class="markdown">
				
				<p>Mastodonアプリ制作の進捗でも書いておきます</p>
<h2 id="アカウントの認証">アカウントの認証</h2>
<ul>
<li>OAuth認証とアクセストークンの直接入力の双方に対応</li>
<li>ただ、アプリを初めて使用する鯖では「そんなアプリ無いぞ」と言われて弾かれるので初回は何らかの登録作業が必要そう(TODO)</li>
<li>複垢登録</li>
<li>削除機能はまだ作ってない</li>
<li>同じアカウントを認証しようとすると落ちる(DB操作を見直せば直るはず)</li>
</ul>
<h2 id="タイムラインの表示">タイムラインの表示</h2>
<ul>
<li>ホーム、ローカル、パブリック、ホームとローカルの統合(TheDeskっぽいやつ)に対応</li>
<li>統合は単純にホームとローカル双方のAPIを叩いて、うまく結合させてる感じ</li>
<li>ストリーミングはWebSocketを勉強しなければならないので後回し・・・</li>
</ul>
<h2 id="カラムの並び替え追加削除">カラムの並び替え・追加・削除</h2>
<ul>
<li>ローカルしか使わない人間（私とか）もいればホームしか使わない人間もいると思うので、必要なカラムだけを表示可能なようにしました</li>
<li>カラム表示可能なものは今のところタイムラインと通知のみ</li>
<li>今後追加予定のものは
<ul>
<li>お気に入り(必須)</li>
<li>リスト(必須)</li>
<li>指定したタグの検索結果(できれば)</li>
<li>指定したユーザの投稿(できれば)</li>
</ul>
</li>
<li>カラムを重複させようとすると落ちるので直したい</li>
</ul>
<h2 id="投稿へのアクション">投稿へのアクション</h2>
<ul>
<li>現状はふぁぼとブーストしか実装してない</li>
<li>今後追加予定のもの(すべて必須)は
<ul>
<li>ふぁぼ取り消し</li>
<li>ブースト取り消し</li>
<li>ブックマーク</li>
<li>ふぁぼやブーストの件数表示</li>
<li>返信機能</li>
</ul>
</li>
</ul>
<h2 id="絵文字関連">絵文字関連</h2>
<ul>
<li>投稿
<ul>
<li>一覧取得から、選択した絵文字を投稿欄に自動入力する部分まで実装済</li>
<li>絵文字のポップアップを開くたびにAPIを叩いてしまうのでDBにデータを保持したい</li>
</ul>
</li>
<li>表示
<ul>
<li>ショートコードを正規表現で抽出し、imgタグ(HTML)に置き換えることで実現</li>
<li>横長の絵文字の表示にも対応済み</li>
<li>設定で大きさを調整できるようにしたい</li>
</ul>
</li>
</ul>
<h2 id="メディア">メディア</h2>
<ul>
<li>画像と動画は詳細画面で表示可能</li>
<li>画像は保存できるようにしたい(できれば他も)</li>
<li>音声ファイルに関してはまだ何も実装してない</li>
<li>アップロードはまだ一切実装してない・・・</li>
</ul>
<hr>
<p>標準的な機能ばかりですが、書き起こしてみたら割とそこそこの量になりました</p>
<p>一応1か月以上かかってますしね・・・</p>
<p>だらだら続けるのも嫌なので、3月いっぱいを目途にベータ版でもいいからapkとソースを公開したいな～といった所です</p>
<p>ここまで見るとなかなか順調なように見えますが、<strong>どこかのコミットからアカウントの認証でコケる事案が発生</strong>しているので、ここ1日くらい進捗がありません・・・</p>
<p><del>テストコードを書きなさい</del></p>
<p>助けてー！</p>

			</div>
		</div>
		<div class="side section">
			
<div class="author section">
    <h2 class="section-header">Author@zakuro</h2>
    <div class="content-wrapper">
        
        <p><img src="/author/my-icon.jpg" alt=""></p>
<p>そろそろ復職したいな～と思ってる無職</p>
<p>好きな言語はKotlinです</p>
<p>生息地: <a href="https://social.vivaldi.net/@396">mastodon</a></p>

    </div>
</div>



		</div>
	</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div> Razl-Dazl - g396.github.io |  <a href="https://github.com/vividvilla/ezhil">Ezhil theme</a> | Built with <a href="https://gohugo.io">Hugo</a></div>
	</nav>
</div>




</body>
</html>
